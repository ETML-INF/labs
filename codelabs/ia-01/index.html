
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Introduction aux Principes de l&#39;IA</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://labs.section-inf.ch/elements/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="UA-170792591-1"
                  id="ia-01"
                  title="Introduction aux Principes de l&#39;IA"
                  environment="web"
                  feedback-link="https://git.section-inf.ch/jmy/labs/issues">
    
      <google-codelab-step label="Vue d&#39;ensemble" duration="1">
        <p class="image-container"><img alt="Alt text" src="img\35722139be0ee7ba.png"></p>
<google-codelab-survey survey-id="ia-01-1">
<h4>Quelle est votre premi√®re r√©action en entendant parler d‚Äôintelligence artificielle (IA) ?</h4>
<paper-radio-group>
<paper-radio-button>C&#39;est fascinant, mais un peu effrayant. - Int√©r√™t m√™l√© d&#39;appr√©hension face aux possibilit√©s et aux implications de l&#39;IA.</paper-radio-button>
<paper-radio-button>√áa va changer le monde ! - Enthousiasme pour l&#39;impact potentiel de l&#39;IA sur diff√©rents aspects de la vie.</paper-radio-button>
<paper-radio-button>On est encore loin des robots intelligents... - Scepticisme quant au niveau actuel de d√©veloppement et aux attentes souvent exag√©r√©es.</paper-radio-button>
</paper-radio-group>
</google-codelab-survey>


      </google-codelab-step>
    
      <google-codelab-step label="Bonjour jeune nageur !" duration="5">
        <p>Bienvenue dans cette aventure passionnante o√π tu vas cr√©er ta premi√®re IA ! L&#39;objectif n&#39;est pas de rivaliser avec ChatGPT ou Elon Musk, mais de d√©couvrir le monde fascinant de l&#39;intelligence artificielle.</p>
<p>Nous aurons deux projets distincts. Nous commencerons par cr√©er un syst√®me de chat, puis nous cr√©erons un syst√®me d&#39;analyse d&#39;image capable de pr√©dire l&#39;objet principal de l&#39;image.</p>
<h2 is-upgraded>Cr√©e ton propre PyChat</h2>
<p>Il s&#39;agit d&#39;un petit programme qui vous demande de lui poser une question. Ensuite, il va chercher dans sa base de donn√©es selon un syst√®me moyennement complexe qui d√©coupe la phrase en mots cl√©s. En utilisant ces mots cl√©s, il tente de trouver la r√©ponse la plus pertinente possible.</p>
<p><strong>Comment fonctionne la pr√©diction dans PyChat ?</strong></p>
<ol type="1">
<li><strong>Analyse de la question</strong> : Lorsque vous posez une question, le programme commence par analyser la phrase. Il identifie les mots cl√©s importants en supprimant les mots courants comme &#34;le&#34;, &#34;la&#34;, &#34;et&#34;, etc.</li>
<li><strong>Recherche dans la base de donn√©es</strong> : Une fois les mots cl√©s identifi√©s, le programme les utilise pour rechercher des r√©ponses potentielles dans sa base de donn√©es. Il compare les mots cl√©s de la question avec ceux des r√©ponses stock√©es.</li>
<li><strong>Utilisation des statistiques</strong> : Le programme utilise des mod√®les statistiques pour pr√©dire les mots qui suivent les mots cl√©s identifi√©s. Par exemple, si la question contient le mot &#34;m√©t√©o&#34;, le programme sait que des mots comme &#34;aujourd&#39;hui&#34;, &#34;demain&#34;, &#34;pr√©visions&#34; sont statistiquement susceptibles de suivre. C&#39;est un peu comme lorsque nous utilisons le dictionnaire de nos smartphones pour √©crire un message ; le programme sugg√®re les mots suivants en fonction de ce que nous avons d√©j√† √©crit.</li>
<li><strong>S√©lection de la r√©ponse</strong> : En combinant les mots cl√©s et les pr√©dictions statistiques, le programme √©value les r√©ponses possibles. Il s√©lectionne la r√©ponse qui correspond le mieux aux mots cl√©s et aux pr√©dictions.</li>
<li><strong>Affichage de la r√©ponse</strong> : Enfin, le programme affiche la r√©ponse qu&#39;il a jug√©e la plus pertinente.</li>
</ol>
<aside class="warning"><p>Avertissement : Il s&#39;agit d&#39;une simplification du syst√®me.<br>Les v√©ritables syst√®mes de chat bas√©s sur l&#39;intelligence artificielle utilisent des algorithmes beaucoup plus complexes et sophistiqu√©s pour comprendre et r√©pondre aux questions.</p>
</aside>
<h2 is-upgraded>Mise en place d&#39;un protocole de test</h2>
<p>Pour comprendre le fonctionnement du chat, tu trouveras plus loin dans ce tutoriel un sc√©nario dont le but est de poser des questions et de nous faire un retour sur des r√©flexions telles que : la r√©ponse est-elle pertinente ? Le syst√®me apprend-il ? Enfin, comment le syst√®me pourrait-il s&#39;am√©liorer ?</p>
<p>N&#39;oublie pas que l&#39;id√©al est que tu te forges ta propre vision et compr√©hension.</p>
<p>Pr√™t √† commencer ? Allons-y ! üí™</p>


      </google-codelab-step>
    
      <google-codelab-step label="Pr√©requis üõ†Ô∏è" duration="2">
        <p>Id√©alement les <a href="https://labs.section-inf.ch/?cat=python" target="_blank">tutoriels python</a> ont √©t√© r√©alis√©s.</p>
<p>De plus, la programmation √©tant un long voyage, semblable √† l&#39;apprentissage d&#39;une langue üåç, il faut d&#39;abord ma√Ætriser les bases, comme les mots, la grammaire, et les diff√©rents sons üó£Ô∏è.<br>Avec le temps, nous formerons des phrases, et avec encore plus de pratique, nous comprendrons leur sens üß†.<br>Puis, en saisissant les nuances üßê, nous pourrons appr√©cier les blagues culturelles üé≠.</p>
<p>Un jour, un homme africain part √† la chasse. Apr√®s une longue journ√©e dans la savane, il rentre √† la maison les mains vides. Sa femme lui demande :<br><br>¬´ Ch√©ri, o√π est le gibier ? ¬ª<br><br>L&#39;homme r√©pond : ¬´ Aujourd&#39;hui j&#39;ai attrap√© quelque chose de plus pr√©cieux qu&#39;un simple animal... j&#39;ai attrap√© de l&#39;exp√©rience ! ¬ª</p>
<ul>
<li><strong>Humour culturel</strong> : Cette blague montre comment l&#39;humour peut varier selon les contextes culturels.</li>
<li><strong>Le√ßons de vie</strong> : Les exp√©riences peuvent √™tre aussi pr√©cieuses que les biens mat√©riels. M√™me sans gibier, l&#39;homme a acquis une le√ßon importante.</li>
<li><strong>Contextualisation</strong> : Dans l&#39;apprentissage, il est crucial de reconna√Ætre la valeur des exp√©riences, m√™me si les r√©sultats ne sont pas imm√©diatement visibles.</li>
</ul>
<p>Ici, nous sommes au d√©but, donc pas le temps de tout faire nous-m√™mes. Je te propose donc une petite exploration des biblioth√®ques que nous utiliserons dans ce tutoriel pour comprendre les composants essentiels de notre syst√®me üß©.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Explication des Biblioth√®ques (voir code ci apr√®s)" duration="1">
        <ol type="1">
<li><code>import nltk</code> : Pour le traitement du langage naturel, notamment le tokenizer <code>punkt</code> pour diviser le texte en mots et phrases.</li>
<li><code>from sklearn.feature_extraction.text import CountVectorizer</code> : Convertit le texte en une matrice de comptage des mots pour l&#39;entra√Ænement des mod√®les.</li>
<li><code>from sklearn.naive_bayes import MultinomialNB</code> : Algorithme de classification bas√© sur le th√©or√®me de Bayes, adapt√© aux donn√©es textuelles.</li>
<li><code>import json</code> : Manipule les fichiers JSON pour charger et sauvegarder les donn√©es d&#39;entra√Ænement.</li>
<li><code>import joblib</code> : S√©rialise les objets Python pour sauvegarder et charger les mod√®les d&#39;apprentissage automatique.</li>
<li><code>import string</code> : Fournit des outils pour manipuler les cha√Ænes de caract√®res, comme supprimer la ponctuation.</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Installation des d√©pendances üõ†Ô∏è" duration="3">
        <ol type="1">
<li>Copie-colle le contenu suivant dans un fichier nomm√© <em>requirements.txt</em><pre><code>certifi==2024.7.4
charset-normalizer==3.3.2
click==8.1.7
colorama==0.4.6
filelock==3.15.4
fsspec==2024.6.1
huggingface-hub==0.24.5
idna==3.7
Jinja2==3.1.4
joblib==1.4.2
MarkupSafe==2.1.5
mpmath==1.3.0
networkx==3.3
nltk==3.8.1
numpy==2.0.1
packaging==24.1
PyYAML==6.0.2
regex==2024.7.24
requests==2.32.3
safetensors==0.4.4
scikit-learn==1.5.1
scipy==1.14.0
setuptools==72.2.0
sympy==1.13.2
threadpoolctl==3.5.0
tokenizers==0.19.1
torch==2.4.0
tqdm==4.66.5
transformers==4.44.0
typing_extensions==4.12.2
urllib3==2.2.2
wheel==0.44.0
</code></pre>
<ol type="1">
<li><strong>Ouvre ton terminal</strong>.</li>
<li><strong>Installe les biblioth√®ques n√©cessaires</strong> :<br>Tu devras avoir un fichier nomm√© <code>requirements.txt</code> contenant toutes les d√©pendances n√©cessaires pour ton projet. Pour installer ces d√©pendances, ex√©cute la commande suivante :</li>
</ol>
<pre><code>python -m pip install -r requirements.txt
</code></pre>
</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Instructions de code üìù" duration="5">
        <p>Ensuite, copie-colle le code suivant dans un fichier Python :</p>
<pre><code>import nltk
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
import json
import joblib
import string
import sys
import io

# Assurer que la sortie standard utilise l&#39;encodage UTF-8
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding=&#39;utf-8&#39;)

# T√©l√©charger les ressources n√©cessaires de NLTK
nltk.download(&#39;punkt&#39;)

# Fonction de pr√©traitement du texte
def preprocess_text(text):
    text = text.lower()  # Conversion en minuscules
    text = text.translate(str.maketrans(&#39;&#39;, &#39;&#39;, string.punctuation))  # Suppression de la ponctuation
    return text

# Charger les donn√©es d&#39;apprentissage depuis un fichier
def load_data(file_path):
    with open(file_path, &#39;r&#39;, encoding=&#39;utf-8&#39;) as file:
        data = json.load(file)
    return data[&#34;questions&#34;], data[&#34;responses&#34;]

# Sauvegarder les donn√©es d&#39;apprentissage dans un fichier
def save_data(file_path, questions, responses):
    data = {&#34;questions&#34;: questions, &#34;responses&#34;: responses}
    with open(file_path, &#39;w&#39;, encoding=&#39;utf-8&#39;) as file:
        json.dump(data, file, ensure_ascii=False, indent=4)

def save_model(file_path, model, vectorizer):
    joblib.dump((model, vectorizer), file_path)

def load_model(file_path):
    return joblib.load(file_path)

# Fonction pour entra√Æner le mod√®le de r√©ponse
def train_response_model(questions, responses):
    vectorizer = CountVectorizer()
    X = vectorizer.fit_transform([preprocess_text(question) for question in questions])
    model = MultinomialNB()
    model.fit(X, responses)
    return model, vectorizer

# Initialisation
data_file_path = &#34;data.json&#34;
model_path = &#34;response_model.pkl&#34;

# Charger les donn√©es
questions, responses = load_data(data_file_path)

# Entra√Æner ou charger le mod√®le
try:
    model, vectorizer = load_model(model_path)
except FileNotFoundError:
    model, vectorizer = train_response_model(questions, responses)
    save_model(model_path, model, vectorizer)

def predict_response(question):
    question = preprocess_text(question)
    X = vectorizer.transform([question])
    prediction = model.predict(X)[0]
    return prediction

def main():
    while True:
        try:
            question = input(&#34;Posez-moi une question: &#34;)
            
            # Trouver la r√©ponse correspondant √† la question
            response = predict_response(question)
            print(f&#34;R√©ponse: {response}&#34;)
            
            feedback = input(&#34;Est-ce que la r√©ponse est correcte? (oui/non) &#34;).strip().lower()
            if feedback == &#34;non&#34;:
                correct_response = input(&#34;Quelle devrait √™tre la bonne r√©ponse? &#34;).strip()
                questions.append(question)
                responses.append(correct_response)
                # R√©entra√Æner le mod√®le avec les nouvelles donn√©es
                global model, vectorizer
                model, vectorizer = train_response_model(questions, responses)
                save_data(data_file_path, questions, responses)
                save_model(model_path, model, vectorizer)
                print(&#34;Merci pour le retour, j&#39;ai appris quelque chose de nouveau!&#34;)
            elif feedback == &#34;oui&#34;:
                print(&#34;Merci pour votre confirmation!&#34;)
            else:
                print(&#34;R√©ponse non reconnue. Veuillez r√©pondre par &#39;oui&#39; ou &#39;non&#39;.&#34;)
        except KeyboardInterrupt:
            print(&#34;\nProgramme termin√©.&#34;)
            break
        except Exception as e:
            print(f&#34;Une erreur est survenue: {e}&#34;)

if __name__ == &#34;__main__&#34;:
    main()
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="T√©l√©charger les fichiers ressources" duration="2">
        <p>Compl√®te le projet en ajoutant les fichiers manquant pr√©sents dans <a href="https://eduvaud.sharepoint.com/:u:/s/msteams_d0db31/EW8v5Lrtm89DnMLaEqhbbioB5iKOS1AknUA4xSNVIFp-tA?e=jIHL4Z" target="_blank">l&#39;archive suivante</a></p>


      </google-codelab-step>
    
      <google-codelab-step label="üé¨ Lancer le programme" duration="2">
        <p>Ex√©cute la commande suivante :</p>
<pre><code>python pysChat.py
</code></pre>
<p>Suis les instructions √† l&#39;√©cran pour interagir avec le syst√®me de chat.</p>
<p class="image-container"><img alt="Programme lanc√©" title="Programme lanc√©" src="img\20666495a13eded0.jpg"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Activit√© üõ†Ô∏è" duration="15">
        <p>Super, nous avons termin√© le programme ! üéâ Il est maintenant temps de le tester et d&#39;en tirer des conclusions. üß©</p>
<p>Pour cela, comme indiqu√© plus haut, nous allons mettre en place un sc√©nario de test. Comme cela peut √™tre nouveau pour vous, je vais vous guider tout au long du processus. üë®‚Äçüè´</p>
<p>Le protocole consiste simplement √† poser des questions au programme et √† indiquer si les r√©ponses sont pertinentes ou non. ü§î‚úÖ‚ùå</p>
<h2 is-upgraded>Sc√©nario de test</h2>
<p>Ci-dessous se trouve une s√©rie de questions simples, sans lien entre elles. votre t√¢che est de d√©terminer si chaque r√©ponse propos√©e est correcte ou non.</p>
<ul>
<li><strong>Question :</strong> &#34;Quelle est la capitale de la France ?&#34;<br><strong>R√©ponse attendue :</strong> &#34;Paris&#34;</li>
<li><strong>Question :</strong> &#34;Quel est le r√©sultat de 2 + 2 ?&#34;<br><strong>R√©ponse attendue :</strong> &#34;4&#34;</li>
<li><strong>Question :</strong> &#34;Comment s&#39;appelle le pr√©sident des √âtats-Unis en 2024 ?&#34;<br><strong>R√©ponse attendue :</strong> &#34;Joe Biden&#34; (si applicable)</li>
</ul>
<p><strong>√Ä votre avis, pourquoi cette r√©ponse pourrait-elle √™tre incorrecte ?</strong></p>
<h2 is-upgraded>Histoire √† raconter</h2>
<ul>
<li><strong>Question :</strong> Connais-tu Sarah ?<br><strong>R√©ponse :</strong> La r√©ponse est probablement incorrecte. Dites que c&#39;est une coll√®gue.</li>
<li><strong>Question :</strong> Sais-tu qui est notre chef de projet ?<br><strong>R√©ponse :</strong> La r√©ponse est insatisfaisante. Dites que c&#39;est Sarah.</li>
<li><strong>Question :</strong> As-tu d√©j√† travaill√© avec Sarah sur un projet sp√©cifique ?<br><strong>R√©ponse :</strong> La r√©ponse est vague. Dites que vous avez collabor√© avec elle sur le projet de refonte du site web de l&#39;entreprise, o√π elle a jou√© un r√¥le cl√© dans la coordination des √©quipes.</li>
<li><strong>Question :</strong> Es-tu au courant de la date de la prochaine r√©union d&#39;√©quipe ?<br><strong>R√©ponse :</strong> La r√©ponse manque de pr√©cision. Dites que Sarah a mentionn√© que la r√©union est pr√©vue pour mardi prochain √† 10 heures, dans la salle de conf√©rence principale.</li>
<li><strong>Question :</strong> Connais-tu les objectifs fix√©s par Sarah pour ce trimestre ?<br><strong>R√©ponse :</strong> La r√©ponse est incompl√®te. Dites que Sarah a fix√© des objectifs pr√©cis, notamment l&#39;am√©lioration de la collaboration entre les d√©partements et l&#39;augmentation de l&#39;efficacit√© des processus internes.</li>
<li><strong>Question :</strong> Qui a r√©cemment pris la responsabilit√© de superviser les nouvelles embauches dans l&#39;√©quipe ?<br><strong>R√©ponse attendue :</strong> Sarah, √©tant donn√© son r√¥le de chef de projet et son implication dans les processus internes.</li>
<li><strong>Question :</strong> Sais-tu qui a propos√© l&#39;id√©e de lancer une enqu√™te de satisfaction des employ√©s ce trimestre ?<br><strong>R√©ponse attendue :</strong> Sarah, en raison de son initiative et de son souci d&#39;am√©liorer les processus internes.</li>
</ul>
<h2 is-upgraded>Test logique</h2>
<ul>
<li><strong>Question :</strong> &#34;Si un avion vole √† 800 km/h pendant 2 heures, quelle distance parcourt-il ?&#34;<br><strong>R√©ponse attendue :</strong> &#34;1600 km&#34;<br><strong>V√©rification :</strong> Est-ce que la r√©ponse est correcte ?<br><strong>Objectif :</strong> Tester la capacit√© du mod√®le √† comprendre et traiter des questions n√©cessitant une logique de base.</li>
<li><strong>Question :</strong> &#34;Si je te dis que 2 + 2 = 5, que dis-tu ?&#34;<br><strong>R√©ponse attendue :</strong> &#34;C&#39;est incorrect.&#34;<br><strong>V√©rification :</strong> Est-ce que la r√©ponse est correcte ?<br><strong>Objectif :</strong> Tester la capacit√© du mod√®le √† d√©tecter des erreurs logiques.</li>
<li><strong>Question :</strong> &#34;Peux-tu me raconter une blague ?&#34;<br><strong>R√©ponse attendue :</strong> Une blague ou une indication que le mod√®le ne peut pas r√©pondre √† cette question.<br><strong>V√©rification :</strong> Est-ce que la r√©ponse est correcte ?<br><strong>Objectif :</strong> Tester la flexibilit√© du mod√®le pour des questions ouvertes.</li>
</ul>
<h2 is-upgraded>Analyse des r√©ponses et r√©ajustement</h2>
<p>apr√®s avoir ex√©cut√© ces sc√©narios de test, vous devez :</p>
<ol type="1">
<li><strong>analyser les r√©ponses :</strong> v√©rifiez si les r√©ponses sont correctes par rapport aux attentes.</li>
<li><strong>fournir du feedback :</strong> si une r√©ponse est incorrecte, fournissez la bonne r√©ponse et voyez si le mod√®le s&#39;am√©liore apr√®s r√©entra√Ænement.</li>
<li><strong>r√©p√©ter le processus :</strong> continuez √† poser des questions jusqu&#39;√† ce que le mod√®le soit suffisamment robuste pour r√©pondre √† la plupart des questions de mani√®re satisfaisante.</li>
</ol>
<p><strong>l&#39;objectif est d&#39;observer l&#39;am√©lioration progressive du syst√®me, qui ne fonctionne pas parfaitement au d√©part.</strong></p>


      </google-codelab-step>
    
      <google-codelab-step label="Explication du Code par Blocs" duration="5">
        <h2 is-upgraded>1. Importations et Configuration</h2>
<pre><code>import nltk
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
import json
import joblib
import string
import sys
import io

# Assurer que la sortie standard utilise l&#39;encodage UTF-8
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding=&#39;utf-8&#39;)
</code></pre>
<ul>
<li><code>import nltk</code> : Charge la biblioth√®que Natural Language Toolkit pour le traitement du langage naturel.</li>
<li><code>from sklearn.feature_extraction.text import CountVectorizer</code> : Importation de <code>CountVectorizer</code> pour convertir les textes en matrices de fr√©quence de mots.</li>
<li><code>from sklearn.naive_bayes import MultinomialNB</code> : Importation de l&#39;algorithme de classification Na√Øve Bayes pour l&#39;apprentissage automatique.</li>
<li><code>import json</code> : Permet la manipulation des fichiers JSON pour charger et sauvegarder les donn√©es.</li>
<li><code>import joblib</code> : Utilis√© pour la s√©rialisation des objets Python, comme les mod√®les d&#39;apprentissage automatique.</li>
<li><code>import string</code> : Fournit des outils pour la manipulation de cha√Ænes de caract√®res, comme la suppression de la ponctuation.</li>
<li><code>import sys</code> et <code>import io</code> : Pour configurer l&#39;encodage UTF-8 de la sortie standard.</li>
</ul>
<h2 is-upgraded>2. Pr√©traitement du Texte</h2>
<pre><code># T√©l√©charger les ressources n√©cessaires de NLTK
nltk.download(&#39;punkt&#39;)

# Fonction de pr√©traitement du texte
def preprocess_text(text):
    text = text.lower()  # Conversion en minuscules
    text = text.translate(str.maketrans(&#39;&#39;, &#39;&#39;, string.punctuation))  # Suppression de la ponctuation
    return text
</code></pre>
<ul>
<li><code>nltk.download(&#39;punkt&#39;)</code> : T√©l√©charge le tokenizer <code>punkt</code> de NLTK pour diviser le texte en mots et phrases.</li>
<li><code>preprocess_text</code> : Fonction pour normaliser le texte en le convertissant en minuscules et en supprimant la ponctuation.</li>
</ul>
<h2 is-upgraded>3. Gestion des Donn√©es</h2>
<pre><code># Charger les donn√©es d&#39;apprentissage depuis un fichier
def load_data(file_path):
    with open(file_path, &#39;r&#39;, encoding=&#39;utf-8&#39;) as file:
        data = json.load(file)
    return data[&#34;questions&#34;], data[&#34;responses&#34;]

# Sauvegarder les donn√©es d&#39;apprentissage dans un fichier
def save_data(file_path, questions, responses):
    data = {&#34;questions&#34;: questions, &#34;responses&#34;: responses}
    with open(file_path, &#39;w&#39;, encoding=&#39;utf-8&#39;) as file:
        json.dump(data, file, ensure_ascii=False, indent=4)
</code></pre>
<ul>
<li><code>load_data</code> : Charge les questions et r√©ponses depuis un fichier JSON.</li>
<li><code>save_data</code> : Sauvegarde les questions et r√©ponses dans un fichier JSON.</li>
</ul>
<h2 is-upgraded>4. Gestion du Mod√®le</h2>
<pre><code>def save_model(file_path, model, vectorizer):
    joblib.dump((model, vectorizer), file_path)

def load_model(file_path):
    return joblib.load(file_path)
</code></pre>
<ul>
<li><code>save_model</code> : Sauvegarde le mod√®le et le vecteur de caract√©ristiques dans un fichier avec <code>joblib</code>.</li>
<li><code>load_model</code> : Charge le mod√®le et le vecteur de caract√©ristiques depuis un fichier.</li>
</ul>
<h2 is-upgraded>5. Entra√Ænement du Mod√®le</h2>
<pre><code># Fonction pour entra√Æner le mod√®le de r√©ponse
def train_response_model(questions, responses):
    vectorizer = CountVectorizer()
    X = vectorizer.fit_transform([preprocess_text(question) for question in questions])
    model = MultinomialNB()
    model.fit(X, responses)
    return model, vectorizer
</code></pre>
<ul>
<li><code>train_response_model</code> : Entra√Æne un mod√®le de classification Na√Øve Bayes pour pr√©dire les r√©ponses bas√©es sur les questions. Utilise <code>CountVectorizer</code> pour transformer le texte en une matrice de fr√©quences de mots, puis entra√Æne le mod√®le avec ces donn√©es.</li>
</ul>
<h2 is-upgraded>6. Initialisation et Ex√©cution Principale</h2>
<pre><code># Initialisation
data_file_path = &#34;data.json&#34;
model_path = &#34;response_model.pkl&#34;

# Charger les donn√©es
questions, responses = load_data(data_file_path)

# Entra√Æner ou charger le mod√®le
try:
    model, vectorizer = load_model(model_path)
except FileNotFoundError:
    model, vectorizer = train_response_model(questions, responses)
    save_model(model_path, model, vectorizer)
</code></pre>
<ul>
<li><strong>Initialisation</strong> : D√©finit les chemins pour les fichiers de donn√©es et le mod√®le.</li>
<li><strong>Chargement des donn√©es</strong> : Charge les questions et r√©ponses depuis le fichier JSON.</li>
<li><strong>Entra√Ænement ou chargement du mod√®le</strong> : Essaie de charger le mod√®le pr√©existant, ou l&#39;entra√Æne si le fichier du mod√®le n&#39;existe pas.</li>
</ul>
<h2 is-upgraded>7. Pr√©diction et Interaction</h2>
<pre><code>def predict_response(question):
    question = preprocess_text(question)
    X = vectorizer.transform([question])
    prediction = model.predict(X)[0]
    return prediction

def main():
    while True:
        try:
            question = input(&#34;Posez-moi une question: &#34;)
            
            # Trouver la r√©ponse correspondant √† la question
            response = predict_response(question)
            print(f&#34;R√©ponse: {response}&#34;)
            
            feedback = input(&#34;Est-ce que la r√©ponse est correcte? (oui/non) &#34;).strip().lower()
            if feedback == &#34;non&#34;:
                correct_response = input(&#34;Quelle devrait √™tre la bonne r√©ponse? &#34;).strip()
                questions.append(question)
                responses.append(correct_response)
                # R√©entra√Æner le mod√®le avec les nouvelles donn√©es
                global model, vectorizer
                model, vectorizer = train_response_model(questions, responses)
                save_data(data_file_path, questions, responses)
                save_model(model_path, model, vectorizer)
                print(&#34;Merci pour le retour, j&#39;ai appris quelque chose de nouveau!&#34;)
            elif feedback == &#34;oui&#34;:
                print(&#34;Merci pour votre confirmation!&#34;)
            else:
                print(&#34;R√©ponse non reconnue. Veuillez r√©pondre par &#39;oui&#39; ou &#39;non&#39;.&#34;)
        except KeyboardInterrupt:
            print(&#34;\nProgramme termin√©.&#34;)
            break
        except Exception as e:
            print(f&#34;Une erreur est survenue: {e}&#34;)

if __name__ == &#34;__main__&#34;:
    main()
</code></pre>
<ul>
<li><code>predict_response</code> : Pr√©pare la question, transforme le texte en une matrice de caract√©ristiques, et pr√©dit la r√©ponse en utilisant le mod√®le.</li>
<li><code>main</code> : Fonction principale qui boucle pour prendre des questions de l&#39;utilisateur, fournir des r√©ponses, et g√©rer les retours de feedback pour am√©liorer le mod√®le.</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Synth√®se" duration="0">
        <iframe class="youtube-video" src="https://docs.google.com/forms/d/e/1FAIpQLSdgvNnN_qdtcta6VOWNShCJgL3bHiL0kITMamG84VLQigh8_A/viewform?embedded=true"></iframe>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://labs.section-inf.ch/elements/codelab-elements/native-shim.js"></script>
  <script src="https://labs.section-inf.ch/elements/codelab-elements/custom-elements.min.js"></script>
  <script src="https://labs.section-inf.ch/elements/codelab-elements/prettify.js"></script>
  <script src="https://labs.section-inf.ch/elements/codelab-elements/codelab-elements.js"></script>

</body>
</html>
